{% extends 'main.html' %}

{% block content %}
<body>

    <hr>
    <form action="invoice/create/" method="post">
        {% csrf_token %} 
        <div class="card home">
            <h3><b>Products and Services</b></h3>
            <table>
                <tr>
                    <th>DESCRIPTION</th>
                    <th>RATE</th>
                    <th>QTY</th>
                </tr>
                <tr>
                    <td id="discript">
                        <input type="text" name="descript" placeholder="Description">

                    </td>
                    <td id="rate">
                        <input type="number" name="rate" placeholder="Rate per Item in R" step="0.01">
                    </td>
                    <td id="qty">
                        <input type="number" name="qty" placeholder="Quantity">
                    </td>
                </tr>
            </table>

            <div class="controls">
                <a href="#" id="addMore">
                    <b>Add item +</b></a>
                <a href="#" id="removeFields"> <b>Remove item -</b> </a>

            </div>


            <hr>


            <h3><b>Bill to</b></h3>
            <div class="nameTitle"><h3 >Namee:</h3></div>
            <input class="nameInput" type="text" placeholder="Name" name="name">
            <br>
            <input type="text" placeholder="Address" name="address">
            <br>
            <input type="text" placeholder="Town" name="town">
            <br>
            <input type="number" placeholder="Code" name="code" minlength="4">
            <br>
            <input type="email" placeholder="Email" name="clientEmail">
            <input type="date" placeholder="YYYY/DD/MM" name="dueDate">
            <br>
                    <label>
                        <input type="radio" name="typeOFinvoice" value="Tax invoice" placeholder="Tax invoice">
                        Tax-invoice
                    </label>
                    <label>
                        <input type="radio" name="typeOFinvoice" value="invoice">
                        Invoice
                    </label>
            <br>
            <br>
            <button class="btn">Create invoice</button>
        </div>


    </form>

    <br>
    <div class="invoices">


        <div class="invoice" id="1">

            <div class="box">
                <div class="right">
                    <b>University of Johannesburg</b>
                    <p>210 Maxixini</p>
                    <p>Acornhoek</p>
                    <p>1360</p>
                </div>
                <div class="left">
                    <b>Invoice</b><br>
                    <br>
                    <img src="/pictures/images.png" alt="pic" class="picture">
                </div>
            </div>
            <hr>

            <div class="box">
                <div class="right">
                    <p>bill to :</p>
                    <b>University of Johannesburg</b>
                    <p>210 Maxixini</p>
                    <p>Acornhoek</p>
                    <p>1360</p>
                </div>
                <div class="left" style="text-align: right;">
                    <b>Invoice Id:inv-001</b><br>
                    <h6>Date:13/06/2022</h6>
                    <h6>Account number:1541048928</h6>
                    <b>Due Date:19/06/2022</b><br>

                </div>
            </div>
            <hr>
            <div class="box">
                <table>
                    <tr>
                        <th>DESCRIPTION</th>
                        <th>RATE</th>
                        <th>QTY</th>
                        <th>AMOUNT</th>
                    </tr>
                    <tr>
                        <td>50 kg cement</th>
                        <td>R95</th>
                        <td>4</th>
                        <td>R380</th>
                    </tr>
                    <tr>
                        <td>50 kg cement</th>
                        <td>R95</th>
                        <td>4</th>
                        <td>R380</th>
                    </tr>
                    <tr>
                        <td>
                            </th>
                        <td>
                            </th>
                        <td>sub total</th>
                        <td>R646</th>
                    </tr>
                    <tr>
                        <td>
                            </th>
                        <td>
                            </th>
                        <td>vat @ 15%</th>
                        <td>R114</th>
                    </tr>
                    <tr>
                        <td>
                            </th>
                        <td>
                            </th>
                        <td>TOTAL</th>
                        <td>760</th>
                    </tr>
                </table>
            </div>
            <div class="box">
                <hr>
                <div class="contact">
                    <b>Thank you for your Business</b>
                    <h6>0676527884|regionaldmongwe@gmail.com|SMEs.com</h6>
                    <a href="#">invoice powered by TR-invoice</a>
                </div>
            </div>
        </div>

        <div class="action">
            <button value="1" onclick="downloadPDF(this.value)">save pdf</button>
            <button>save docx</button>
            <button>save csv</button>

        </div>


    </div>

    
    <div class="foot">

        <h3>The smart Invoice</h3>
        <h6><a href="#">Disclaimer</a>|<a href="#">Privacy policy</a>|<a href="#">Reports</a>|<a href="#">News</a>|<a
                href="#">Contact us</a>|<a href="#">About us</a></h6>
        <h6>Â© 2022-2022 TR-invoice. All rights reserved. Version: 1.0.0</h6>
        <br>

    </div>
    <script>
        const homeElem = document.querySelector(".home");
        const invoiceElem = document.querySelector(".invoices");
        const customersElem = document.querySelector(".customers");
        const cashflowElem = document.querySelector(".cashflow");
        const homeBtn = document.querySelector(".homebtn");
        const invoicebtn = document.querySelector(".invoicebtn");
        const customersbtn = document.querySelector(".customersbtn");
        const cashflowbtn = document.querySelector(".cashflowbtn");
        invoiceElem.classList.add("hide");
        customersElem.classList.add("hide");
        cashflowElem.classList.add("hide");
        function homeSelector() {
            invoiceElem.classList.add("hide");
            customersElem.classList.add("hide");
            cashflowElem.classList.add("hide");
            homeElem.classList.remove("hide");
        };
        function invoiceSelector() {
            invoiceElem.classList.remove("hide");
            customersElem.classList.add("hide");
            cashflowElem.classList.add("hide");
            homeElem.classList.add("hide");
        };
        function customersSelector() {
            invoiceElem.classList.add("hide");
            customersElem.classList.remove("hide");
            cashflowElem.classList.add("hide");
            homeElem.classList.add("hide");
        };
        function cashflowSelector() {
            invoiceElem.classList.add("hide");
            customersElem.classList.add("hide");
            cashflowElem.classList.remove("hide");
            homeElem.classList.add("hide");
        };
        homeBtn.addEventListener('click', homeSelector);
        invoicebtn.addEventListener('click', invoiceSelector);
        customersbtn.addEventListener('click', customersSelector);
        cashflowbtn.addEventListener('click', cashflowSelector);
    </script>
    <script>
        const discript = document.getElementById('discript');
        const rate = document.getElementById('rate');
        const qty = document.getElementById('qty');
        const addMore = document.getElementById('addMore');
        const removeFields = document.getElementById('removeFields');
        addMore.onclick = function () {
            const newDescript = document.createElement('input');
            newDescript.setAttribute('type', 'text');
            newDescript.setAttribute('name', 'descript');
            newDescript.setAttribute('placeholder', 'description')
            discript.appendChild(newDescript);

            const newRate = document.createElement('input');
            newRate.setAttribute('type', 'number');
            newRate.setAttribute('name', 'rate');
            newRate.setAttribute('step', '0.01');
            newRate.setAttribute('placeholder', 'rate per Item in R');
            rate.appendChild(newRate);

            const newQty = document.createElement('input');
            newQty.setAttribute('type', 'number');
            newQty.setAttribute('name', 'qty');
            newQty.setAttribute('placeholder', 'quantity');
            qty.appendChild(newQty);
        };
        removeFields.onclick = function () {
            const discriptTag = discript.getElementsByTagName('input');
            const qtyTag = qty.getElementsByTagName('input');
            const rateTag = rate.getElementsByTagName('input');
            if (discriptTag.length > 1) {
                discript.removeChild(discriptTag[(discriptTag.length) - 1]);
                rate.removeChild(rateTag[(rateTag.length) - 1]);
                qty.removeChild(qtyTag[(qtyTag.length) - 1]);
            };
        }
    </script>
</body>

{% endblock %}